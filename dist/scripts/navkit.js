/*! For license information please see navkit.js.LICENSE.txt */
!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}var a=".toggle__close",i=".toggle__open",r=".primary-nav__list",o=".secondary-nav__link",s={timeline:{autoplay:!1,loop:!1,duration:1e3},exit:{primaryNav:{props:{targets:r,translateX:["0px","-200px"],opacity:["1","0"],easing:"easeInOutSine",duration:300,delay:anime.stagger(100,{from:"first"})},offset:0},secondaryNav:{props:{targets:o,translateX:["0px","-200px"],opacity:["1","0"],easing:"easeInOutSine",duration:300,delay:anime.stagger(100,{from:"first"})},offset:0},toggleLabelClose:{props:{targets:a,left:0,opacity:0,easing:"easeInOutSine",duration:300},offset:0},toggleLabelOpen:{props:{targets:i,left:-90,opacity:1,easing:"easeInOutSine",duration:300},offset:0}},enter:{primaryNav:{props:{targets:r,translateX:["200px","0px"],opacity:["0","1"],easing:"easeInOutSine",duration:500,delay:anime.stagger(100,{from:"first"})},offset:900},secondaryNav:{props:{targets:o,translateX:["200px","0px"],opacity:["0","1"],easing:"easeInOutSine",duration:500,delay:anime.stagger(100,{from:"first"})},offset:900},toggleLabelClose:{props:{targets:a,left:-90,opacity:1,easing:"easeInOutSine",duration:300},offset:0},toggleLabelOpen:{props:{targets:i,left:0,opacity:0,easing:"easeInOutSine",duration:300},offset:0}}},c=function(t){var e,n=s;return t&&(e=t(s.enter),Object.assign(n.enter,e)),anime.timeline(n.timeline).add(n.exit.primaryNav.props,n.exit.primaryNav.offset).add(n.exit.secondaryNav.props,n.exit.secondaryNav.offset).add(n.exit.toggleLabelClose.props,n.exit.toggleLabelClose.offset).add(n.exit.toggleLabelOpen.props,n.exit.toggleLabelOpen.offset)},u=function(t){var e,n=s;return t&&(e=t(s.enter),Object.assign(n.enter,e)),anime.timeline(n.timeline).add(n.enter.primaryNav.props,n.enter.primaryNav.offset).add(n.enter.secondaryNav.props,n.enter.secondaryNav.offset).add(n.enter.toggleLabelClose.props,n.enter.toggleLabelClose.offset).add(n.enter.toggleLabelOpen.props,n.enter.toggleLabelOpen.offset)};function l(t,e){return{easeIn:0==e?e:Math.pow(2,10*(e-1)),easeOut:1==e?e:1-Math.pow(2,-10*e),easeInOut:e<.5?4*Math.pow(e,3):.5*Math.pow(2*e-2,3)+1,linear:e}[t]}function p(t){return 100-t}var f="inverse",h="closed",v="opened",m=function(){function e(n){var a=n.crestNumber,i=n.crestDelay,r=n.animation,o=void 0===r?{}:r;t(this,e),this.crestNumber=a,this.animation=Object.assign({duration:1e3,direction:"h",orientation:"",transitionTimingFunction:"easeInOut",crestAmplitudeFunction:"random"},o),this.calcAmplitude=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return{sin:function(t,e){return.25*(Math.sin(t)+Math.sin(-t*e)+2)*i},random:function(t,e){return Math.random()*i+1},linear:function(t,e){return 1*i},binary:function(t,e){return t%2==0?1*i:0*i},square:function(t,e){return t*i}}[t](e,n)},this.calcCrestLength=function(t){return(t+1)/a},this.amplitude=this.pushAmplitude([],this.animation.crestAmplitudeFunction),this.status=h}return n(e,[{key:"pushAmplitude",value:function(t,e){var n=this.crestNumber,a=this.calcAmplitude,i=0;return{sin:function(t){for(var i=4*Math.random()+6,r=0;r<=n;r++){var o=r/n*Math.PI;t.push(a(e,o,i))}return t},random:function(t){for(var i=0;i<=n;i++)t.push(a(e));return t},linear:function(t){for(var i=0;i<=n;i++)t.push(a(e));return t},binary:function(t){for(var i=0;i<=n;i++)t.push(a(e,i));return t},square:function(t){for(var r=0;r<=n;r++)r%5==0&&(i=0===i?1:0),t.push(a(e,i));return t}}[e](t)}},{key:"svgPath",value:function(){return{M:function(t,e){return"M ".concat(t," ").concat(e)},H:function(t){return"H ".concat(t)},V:function(t){return"V ".concat(t)},C:function(t){var e=t.cpx,n=t.cpy,a=t.cpx1,i=t.cpy1,r=t.x,o=t.y;return"C ".concat(e," ").concat(n," ").concat(a," ").concat(i," ").concat(r," ").concat(o)}}}},{key:"pushEasingCp",value:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:17,i=this.animation.transitionTimingFunction;return this.y=a,this.amplitude.forEach((function(a,r){var o=Math.min(Math.max(n.y-a,0)/n.animation.duration,1);e.push(l(i,o)*t)})),e}},{key:"pushLength",value:function(t){for(var e=0;e<this.crestNumber;e++)t.push(this.calcCrestLength(e));return t}},{key:"horizontalWave",value:function(t,e,n){var a,i,r,o=this,s=this.svgPath(),c="";if(this.animation.orientation===f){if(t[0]=p(t[0]),this.status===h)a=s.M(t[0],0),r=s.H(100),i=s.V(0);else{if(this.status!==v)throw new Error("invalid param");a=s.M(t[0],0),i=s.V(0),r=s.H(0)}e.forEach((function(e,a){t[a+1]=p(t[a+1]);var i=(e-1/o.crestNumber*.5)*n;c+=s.C({cpx:t[a],cpy:i,cpx1:t[a+1],cpy1:i,x:t[a+1],y:e*n})+" "}))}else{if(this.status===h)a=s.M(t[0],0),i=s.V(0),r=s.H(0);else{if(this.status!==v)throw new Error("invalid param");a=s.M(t[0],0),r=s.H(100),i=s.V(0)}e.forEach((function(e,a){var i=(e-1/o.crestNumber*.5)*n;c+=s.C({cpx:t[a],cpy:i,cpx1:t[a+1],cpy1:i,x:t[a+1],y:e*n})+" "}))}return"".concat(a," ").concat(c," ").concat(r," ").concat(i)}},{key:"verticalWave",value:function(t,e,n){var a,i,r,o,s=this,c=this.animation.orientation,u=this.svgPath(),l="";if(c===f){if(t[0]=p(t[0]),this.status===h)a=u.M(0,t[0]),i="",r=u.V(100);else{if(this.status!==v)throw new Error("invalid param ".concat(c,". Choose [normal] or [inverse] "));a=u.M(0,0),i=u.V(t[0]),r=u.V(0)}o=u.H(0),e.forEach((function(e,a){t[a+1]=p(t[a+1]);var i=(e-1/s.crestNumber*.5)*n;l+=u.C({cpx:i,cpy:t[a],cpx1:i,cpy1:t[a+1],x:e*n,y:t[a+1]})+" "}))}else{if(this.status===h)a=u.M(0,0),i=u.V(t[0]),r=u.V(0);else{if(this.status!==v)throw new Error("invalid param ".concat(c,". Choose [normal] or [inverse] "));a=u.M(0,t[0]),i="",r=u.V(100)}o=u.H(0),e.forEach((function(e,a){var i=(e-1/s.crestNumber*.5)*n;l+=u.C({cpx:i,cpy:t[a],cpx1:i,cpy1:t[a+1],x:e*n,y:t[a+1]})+" "}))}return"".concat(a," ").concat(i," ").concat(l," ").concat(r," ").concat(o)}},{key:"updatePath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=this.animation.direction,a=this.pushLength([]),i=this.pushEasingCp(e,[],t),r="";if("v"===n)r=this.verticalWave(i,a,e);else{if("h"!==n)throw new Error("Invalid param ".concat(n,". Choose [v/h]"));r=this.horizontalWave(i,a,e)}return r}}]),e}();function d(t){var e=t.crestNumber,n=t.crestDelay,a=t.animation;return new m({crestNumber:e,crestDelay:n,animation:a})}function y(t,e,n){for(var a=n.duration,i=n.waves,r=i.crestNumber,o=i.crestDelay,s=i.waveDelay,c=i.orientation,u=i.direction,l=i.transitionTimingFunction,p=i.crestAmplitudeFunction,f=0;f<t.length;f++){var h=d({crestNumber:r,crestDelay:o,animation:{duration:a,direction:u,orientation:c,transitionTimingFunction:l,crestAmplitudeFunction:p}}),v=t[f];e.push({wave:h,path:v,delay:s})}return e}var g=document.querySelector("#overlay-transition").querySelectorAll("path");function w(t,e){var n=e.duration,a=e.timeStart,i=e.waves,r=i.crestDelay,o=i.waveDelay;Date.now()-a<n+r+o*t.length&&window.requestAnimationFrame((function(){return w(t,{duration:n,timeStart:a,waves:{crestDelay:r,waveDelay:o}})})),t.forEach((function(e,n){"closed"===e.wave.status?e.path.setAttribute("d",e.wave.updatePath(Date.now()-a-o*n)):e.path.setAttribute("d",e.wave.updatePath(Date.now()-a-o*(t.length-n-1)))}))}var b="visible",x="is-opened",E="is-closed",N="is-transitioning",A=document.querySelector("#header"),L=(document.querySelector("#toggle"),document.querySelector("#overlay-transition"));document.querySelector("#overlay-menu");var O=function(){function e(n){var a=n.enter,i=void 0===a?u():a,r=n.exit,o=void 0===r?c():r,s=n.animationProps,l=void 0===s?{svg:!0,duration:1e3,waves:{crestNumber:1,crestDelay:300,waveDelay:200,orientation:"inverse",direction:"v",transitionTimingFunction:"easeInOut",crestAmplitudeFunction:"random"}}:s;t(this,e),this.enter=i,this.exit=o,this.animationProps=l,this.createAnimation()}return n(e,[{key:"updateAnimationProps",value:function(t){Object.assign(this.animationProps.waves,t),this.waveArray=y(g,[],this.animationProps)}},{key:"execute",value:function(){var t=this.animationProps,e=this.waveArray;if("transition"!==this.stateMachine.state){var n=t.svg;Object.assign(t,{timeStart:Date.now()}),!0===n&&w(e,t),this.stateMachine.setAction("transition",[{el:L,waves:e}])}}},{key:"createAnimation",value:function(){var t=this.enter,e=this.exit,n=this.animationProps;!function(t){var e=t.enter,n=t.exit,a=t.animationProps,i=a.svg,r=a.duration,o=a.waves,s=o.crestNumber,c=o.crestDelay,u=o.waveDelay,l=o.orientation,p=o.direction,f=o.transitionTimingFunction,h=o.crestAmplitudeFunction;try{if(!e)throw new Error("Missing param enter");if(!n)throw new Error("Missing param exit");if(!r)throw new Error("Missing param duration");if(!0!==i&&!1!==i)throw new Error("Invalid param. It must be [true/false]");if("number"!=typeof s)throw new Error("Invalid param. crestNumber must be a [number]");if("number"!=typeof c)throw new Error("Invalid param. crestDelay must be a [number]");if("number"!=typeof u)throw new Error("Invalid param. waveDelay must be a [number]");if("string"!=typeof l)throw new Error("Invalid param. orientation must be a [string]");if("string"!=typeof p)throw new Error("Invalid param. It must be a [string]");if("string"!=typeof f)throw new Error("Invalid param. It must be a [string]");if("string"!=typeof h)throw new Error("Invalid param. It must be a [string]")}catch(t){throw new Error(t)}}({enter:t,exit:e,animationProps:n});var a=this.animationProps,i=a.svg,r=a.duration,o=a.waves,s=o.crestDelay,c=o.waveDelay;!0===i?this.waveArray=y(g,[],n):Object.assign(this.animationProps.waves,{crestDelay:0,waveDelay:0,crestNumber:0});var u=r+s+c*this.waveArray.length;this.stateMachine=function(t){var e=t.enter,n=t.exit,a=t.duration;return{state:"close",states:{open:{transition:function(t){var e=t.el,a=t.waves;n.play(),e&&function(t){A.classList.remove(x),t.classList.remove(x),t.classList.add(N)}(e),a&&a.forEach((function(t){t.wave.status="opened"})),this.changeState("transition"),this.setAction("toClose",[{el:e}])}},transition:{toOpen:function(t){var e=this,n=t.el;setTimeout((function(){n&&function(t){t.classList.remove(N),t.classList.add(x)}(n),e.changeState("open")}),a)},toClose:function(t){var e=this,n=t.el;setTimeout((function(){n&&function(t){t.classList.remove(N),t.classList.add(E),t.classList.remove(b)}(n),e.changeState("close")}),a)}},close:{transition:function(t){var n=t.el,a=t.waves;e.play(),n&&function(t){A.classList.add(x),t.classList.remove(E),t.classList.add(N),t.classList.add(b)}(n),a&&a.forEach((function(t){t.wave.status="closed"})),this.changeState("transition"),this.setAction("toOpen",[{el:n}])}}},setAction:function(t){var e=this.states[this.state][t];if(!e)throw new Error("Not a valid action");for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];e.apply.apply(e,[this].concat(a))},changeState:function(t){t&&(this.state=t)}}}({enter:t,exit:e,duration:u})}}]),e}();window&&!window.overlayAnimation&&(window.Navkit={OverlayAnimation:O,animation:{animateExit:c,animateEnter:u}})}();